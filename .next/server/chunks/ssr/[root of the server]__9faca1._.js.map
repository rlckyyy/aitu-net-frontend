{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/relucky/Desktop/programming/react/aitu-net-frontend/src/lib/api.ts"],"sourcesContent":["import axios, {AxiosError, AxiosResponse} from 'axios';\nimport {User} from \"@/models/user\";\nimport {ChatMessage} from \"@/models/chatMessage\";\nimport {ProfileUpdate} from \"@/models/ProfileUpdate\";\n\nconst API_URL = 'http://localhost:8080/api/v1';\n\nconst apiClient = axios.create({\n    baseURL: API_URL,\n    withCredentials: true,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\napiClient.interceptors.response.use(\n    (response) => response,\n    (error: AxiosError) => {\n        if (\n            error.response?.status &&\n            error.response?.status >= 400 &&\n            error.response?.status < 500\n        ) {\n            return Promise.reject(error);\n        }\n        console.error('Unexpected API error:', error);\n        return Promise.reject(error);\n    }\n);\n\nasync function request<T>(endpoint: string, options: any = {}): Promise<AxiosResponse<T>> {\n    return await apiClient.request({\n        url: endpoint,\n        ...options,\n    });\n}\n\nexport const api = {\n    register: (userData: {\n        username: string;\n        email: string;\n        password: string;\n    }) =>\n        request('/auth/register', {\n            method: 'POST',\n            data: userData,\n        }),\n\n    login: async (userData: { email: string; password: string }) => {\n        return request('/auth/login', {\n            method: 'POST',\n            data: userData,\n        });\n    },\n\n    updateUser: async (profileUpdate: ProfileUpdate) => {\n        return request('/users', {\n            method: 'PATCH',\n            data: profileUpdate,\n        })\n    },\n\n    getUser: async (): Promise<AxiosResponse<User>> =>\n        await request<User>('/auth/me', {\n            method: 'GET',\n        }),\n\n    logout: async () =>\n        await request('/auth/logout', {\n            method: 'POST',\n        }),\n\n    fetchChatRooms: async (email: string): Promise<ChatRoom[]> => {\n        const response = await request<ChatRoom[]>(`/chats/rooms/${email}`, {\n            method: 'GET'\n        });\n        return response.data\n    },\n\n    fetchOnlineUsers: async (): Promise<User[]> => {\n        const response = await request<User[]>('/chats/users/online', {\n            method: 'GET'\n        });\n        return response.data\n    },\n\n    fetchChatRoomMessages: async (sender: string, recipient: string) => {\n        const response = await request<ChatMessage[]>(`/chats/messages/${sender}/${recipient}`, {\n            method: 'GET'\n        })\n        return response.data\n    },\n\n    searchUsers: async (query: string) => {\n        const response = await request<User[]>(`/chats/users/search?query=${query}`)\n        return response.data\n    }\n};\n"],"names":[],"mappings":";;;AAAA;;AAKA,MAAM,UAAU;AAEhB,MAAM,YAAY,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC3B,SAAS;IACT,iBAAiB;IACjB,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC/B,CAAC,WAAa,UACd,CAAC;IACG,IACI,MAAM,QAAQ,EAAE,UAChB,MAAM,QAAQ,EAAE,UAAU,OAC1B,MAAM,QAAQ,EAAE,SAAS,KAC3B;QACE,OAAO,QAAQ,MAAM,CAAC;IAC1B;IACA,QAAQ,KAAK,CAAC,yBAAyB;IACvC,OAAO,QAAQ,MAAM,CAAC;AAC1B;AAGJ,eAAe,QAAW,QAAgB,EAAE,UAAe,CAAC,CAAC;IACzD,OAAO,MAAM,UAAU,OAAO,CAAC;QAC3B,KAAK;QACL,GAAG,OAAO;IACd;AACJ;AAEO,MAAM,MAAM;IACf,UAAU,CAAC,WAKP,QAAQ,kBAAkB;YACtB,QAAQ;YACR,MAAM;QACV;IAEJ,OAAO,OAAO;QACV,OAAO,QAAQ,eAAe;YAC1B,QAAQ;YACR,MAAM;QACV;IACJ;IAEA,YAAY,OAAO;QACf,OAAO,QAAQ,UAAU;YACrB,QAAQ;YACR,MAAM;QACV;IACJ;IAEA,SAAS,UACL,MAAM,QAAc,YAAY;YAC5B,QAAQ;QACZ;IAEJ,QAAQ,UACJ,MAAM,QAAQ,gBAAgB;YAC1B,QAAQ;QACZ;IAEJ,gBAAgB,OAAO;QACnB,MAAM,WAAW,MAAM,QAAoB,CAAC,aAAa,EAAE,OAAO,EAAE;YAChE,QAAQ;QACZ;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,kBAAkB;QACd,MAAM,WAAW,MAAM,QAAgB,uBAAuB;YAC1D,QAAQ;QACZ;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,uBAAuB,OAAO,QAAgB;QAC1C,MAAM,WAAW,MAAM,QAAuB,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE,WAAW,EAAE;YACpF,QAAQ;QACZ;QACA,OAAO,SAAS,IAAI;IACxB;IAEA,aAAa,OAAO;QAChB,MAAM,WAAW,MAAM,QAAgB,CAAC,0BAA0B,EAAE,OAAO;QAC3E,OAAO,SAAS,IAAI;IACxB;AACJ"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///Users/relucky/Desktop/programming/react/aitu-net-frontend/src/components/users/ProfileEdit.tsx"],"sourcesContent":["import {useAuth} from \"@/context/AuthProvider\";\nimport {useState} from \"react\";\nimport {api} from \"@/lib/api\";\nimport {ProfileUpdate} from \"@/models/ProfileUpdate\";\nimport {router} from \"next/client\";\n\nexport default function () {\n    const {user} = useAuth()\n    const [username, setUsername] = useState('');\n    const [description, setDescription] = useState('');\n    const handleSubmit = () => {\n        const req: ProfileUpdate = {\n            username: username,\n            description: description,\n        }\n        api.updateUser(req)\n        router.push(`/profile`)\n    }\n\n    return (\n        <div className=\"max-w-md mx-auto p-6 bg-gray-900 text-white rounded-lg shadow-lg\">\n            <h1 className=\"text-2xl font-semibold mb-4 text-blue-400\">Обновить профиль</h1>\n\n            <form id=\"updateForm\" onSubmit={handleSubmit}>\n                <div className=\"space-y-4\">\n                    <label className=\"block\">\n                        <span className=\"text-gray-400\">Username:</span>\n                        <input type=\"text\" id=\"username\" value={user?.username}\n                               onChange={(e) => setUsername(e.target.value)}\n                               className=\"w-full mt-1 p-2 bg-gray-800 text-white rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400\"/>\n                    </label>\n                    <label className=\"block\">\n                        <span className=\"text-gray-400\">Description:</span>\n                        <input type=\"text\" id=\"description\" value={user?.description}\n                               onChange={(e) => setDescription(e.target.value)}\n                               className=\"w-full mt-1 p-2 bg-gray-800 text-white rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400\"/>\n                    </label>\n\n                    <button type=\"submit\" className=\"w-full p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\">\n                        Сохранить изменения\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAEA;;;;;;AAEe;IACX,MAAM,EAAC,IAAI,EAAC,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACrB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,eAAe;QACjB,MAAM,MAAqB;YACvB,UAAU;YACV,aAAa;QACjB;QACA,iHAAA,CAAA,MAAG,CAAC,UAAU,CAAC;QACf,8HAAA,CAAA,SAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;IAC1B;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA4C;;;;;;0BAE1D,8OAAC;gBAAK,IAAG;gBAAa,UAAU;0BAC5B,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAM,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAgB;;;;;;8CAChC,8OAAC;oCAAM,MAAK;oCAAO,IAAG;oCAAW,OAAO,MAAM;oCACvC,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;;;;;;;;;;;;sCAErB,8OAAC;4BAAM,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAgB;;;;;;8CAChC,8OAAC;oCAAM,MAAK;oCAAO,IAAG;oCAAc,OAAO,MAAM;oCAC1C,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oCAC9C,WAAU;;;;;;;;;;;;sCAGrB,8OAAC;4BAAO,MAAK;4BAAS,WAAU;sCAAiE;;;;;;;;;;;;;;;;;;;;;;;AAOrH"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///Users/relucky/Desktop/programming/react/aitu-net-frontend/src/app/users/edit/page.tsx"],"sourcesContent":["import ProfileEdit from \"@/components/users/ProfileEdit\";\n\nexport default function LoginPage() {\n    return (\n        <ProfileEdit/>\n    );\n}"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACpB,qBACI,8OAAC,0IAAA,CAAA,UAAW;;;;;AAEpB"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}