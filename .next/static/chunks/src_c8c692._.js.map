{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/relucky/Desktop/programming/react/aitu-net-frontend/src/lib/api.ts"],"sourcesContent":["const API_URL = 'http://localhost:8080/api';\n\nasync function request(endpoint: string, options: RequestInit = {}) {\n    const token = localStorage.getItem(\"token\");\n\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        ...(token ? {Authorization: `Bearer ${token}`} : {}),\n    };\n\n    const res = await fetch(`${API_URL}${endpoint}`, {\n        ...options,\n        headers,\n    });\n\n    if (!res.ok) {\n        throw new Error(\"Ошибка API\");\n    }\n\n    return res.json();\n}\n\nexport const api = {\n    register: (username: string, email: string, password: string) =>\n        request(\"/v1/auth/register\", {\n            method: \"POST\",\n            body: JSON.stringify({username, email, password}),\n        }),\n\n    login: async (email: string, password: string) => {\n        const data = await request(\"/v1/auth/login\", {\n            method: \"POST\",\n            body: JSON.stringify({email, password}),\n        });\n\n        if (data.token) {\n            localStorage.setItem(\"token\", data.token);\n        }\n\n        return data;\n    },\n\n    getUser: () => request(\"/v1/users/me\", {\n        method: \"GET\"\n    }),\n\n    logout: () => {\n        localStorage.removeItem(\"token\");\n    },\n};"],"names":[],"mappings":";;;AAAA,MAAM,UAAU;AAEhB,eAAe,QAAQ,QAAgB,EAAE,UAAuB,CAAC,CAAC;IAC9D,MAAM,QAAQ,aAAa,OAAO,CAAC;IAEnC,MAAM,UAAU;QACZ,gBAAgB;QAChB,GAAI,QAAQ;YAAC,eAAe,CAAC,OAAO,EAAE,OAAO;QAAA,IAAI,CAAC,CAAC;IACvD;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;QAC7C,GAAG,OAAO;QACV;IACJ;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACT,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO,IAAI,IAAI;AACnB;AAEO,MAAM,MAAM;IACf,UAAU,CAAC,UAAkB,OAAe,WACxC,QAAQ,qBAAqB;YACzB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAC;gBAAU;gBAAO;YAAQ;QACnD;IAEJ,OAAO,OAAO,OAAe;QACzB,MAAM,OAAO,MAAM,QAAQ,kBAAkB;YACzC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAC;gBAAO;YAAQ;QACzC;QAEA,IAAI,KAAK,KAAK,EAAE;YACZ,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;QAC5C;QAEA,OAAO;IACX;IAEA,SAAS,IAAM,QAAQ,gBAAgB;YACnC,QAAQ;QACZ;IAEA,QAAQ;QACJ,aAAa,UAAU,CAAC;IAC5B;AACJ"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///Users/relucky/Desktop/programming/react/aitu-net-frontend/src/components/Profile.tsx"],"sourcesContent":["\"use client\";\n\nimport {useEffect, useState} from \"react\";\nimport {useRouter} from \"next/navigation\";\nimport {api} from \"@/lib/api\";\nimport {User} from \"@/models/user\";\n\nexport default function Profile() {\n    const [user, setUser] = useState<User | null>(null);\n    const [loading, setLoading] = useState(true);\n    const router = useRouter();\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            try {\n                const data = await api.getUser();\n                setUser(data);\n                console.log('Ya tut');\n            } catch (error) {\n                console.error(\"Ошибка загрузки профиля:\", error);\n                router.push(\"/login\");\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchUser();\n    }, [router]);\n\n    if (loading) return <p>Загрузка...</p>;\n    if (!user) return null;\n\n    return (\n        <div className=\"max-w-md mx-auto p-6 bg-black rounded-lg shadow-md\">\n            <h1 className=\"text-2xl font-semibold\">Профиль</h1>\n            <p><strong>ID:</strong> {user.id}</p>\n            <p><strong>Username:</strong> {user.username}</p>\n            <p><strong>Email:</strong> {user.email}</p>\n            <p><strong>FriendList:</strong> {user.friendList}</p>\n            <p><strong>Roles:</strong> {user.roles}</p>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAOe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACN,MAAM;+CAAY;oBACd,IAAI;wBACA,MAAM,OAAO,MAAM,oHAAA,CAAA,MAAG,CAAC,OAAO;wBAC9B,QAAQ;wBACR,QAAQ,GAAG,CAAC;oBAChB,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,4BAA4B;wBAC1C,OAAO,IAAI,CAAC;oBAChB,SAAU;wBACN,WAAW;oBACf;gBACJ;;YACA;QACJ;4BAAG;QAAC;KAAO;IAEX,IAAI,SAAS,qBAAO,6LAAC;kBAAE;;;;;;IACvB,IAAI,CAAC,MAAM,OAAO;IAElB,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAY;oBAAE,KAAK,EAAE;;;;;;;0BAChC,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAkB;oBAAE,KAAK,QAAQ;;;;;;;0BAC5C,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAe;oBAAE,KAAK,KAAK;;;;;;;0BACtC,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAoB;oBAAE,KAAK,UAAU;;;;;;;0BAChD,6LAAC;;kCAAE,6LAAC;kCAAO;;;;;;oBAAe;oBAAE,KAAK,KAAK;;;;;;;;;;;;;AAGlD;GAlCwB;;QAGL,qIAAA,CAAA,YAAS;;;KAHJ"}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}